services:
  helm-release-mcp:
    image: garethcxydify/helm-release-mcp:latest
    ports:
      - "18000:8000"
    environment:
      HELM_MCP_TRANSPORT: streamable-http
      HELM_MCP_HOST: 0.0.0.0
      HELM_MCP_PORT: 8000
      HELM_MCP_AUTH_TOKEN: ${HELM_MCP_AUTH_TOKEN}
      HELM_MCP_AUTH_ISSUER_URL: ${HELM_MCP_AUTH_ISSUER_URL}
      HELM_MCP_AUTH_RESOURCE_URL: ${HELM_MCP_AUTH_RESOURCE_URL}
      HELM_MCP_GITHUB_TOKEN: ${HELM_MCP_GITHUB_TOKEN}
      DIFY_GITHUB_TOKEN: ${DIFY_GITHUB_TOKEN}
      DIFY_HELM_GITHUB_TOKEN: ${DIFY_HELM_GITHUB_TOKEN}
      DIFY_ENTERPRISE_GITHUB_TOKEN: ${DIFY_ENTERPRISE_GITHUB_TOKEN}
      DIFY_ENTERPRISE_FRONTEND_GITHUB_TOKEN: ${DIFY_ENTERPRISE_FRONTEND_GITHUB_TOKEN}
      HELM_MCP_HUMAN_IN_THE_LOOP_ENABLED: ${HELM_MCP_HUMAN_IN_THE_LOOP_ENABLED}
      HELM_MCP_HUMAN_IN_THE_LOOP_TIMEOUT_SECONDS: ${HELM_MCP_HUMAN_IN_THE_LOOP_TIMEOUT_SECONDS}
      HELM_MCP_TOOL_CALL_STORE_BACKEND: ${HELM_MCP_TOOL_CALL_STORE_BACKEND}
    volumes:
      - ./config:/app/config:ro
      - ./workspace:/app/workspace
